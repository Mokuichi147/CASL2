P150Q6	START
	RPUSH
;
	LD	GR7,=0
	LD	GR0,=0
;
LOOP	LD	GR1,GR0
	ADDL	GR1,GR7
	LD	GR2,TEXT,GR1
	CPA	GR2,='.'
	JZE	PERIOD
	CPA	GR2,=' '
	JZE	SPACE
	ST	GR2,TEX,GR7
	ADDL	GR7,=1
	JUMP	LOOP
;
SPACE	ADDL	GR0,=1
	ADDL	GR0,GR7
	ST	GR7,LEN
	OUT	TEX,LEN
	LD	GR7,=0
	JUMP	LOOP
;
PERIOD	ST	GR7,LEN
	OUT	TEX,LEN
;
	RPOP
	RET
TEX	DS	256
LEN	DS	1
TEXT	DC	'This is a pen.'
	END